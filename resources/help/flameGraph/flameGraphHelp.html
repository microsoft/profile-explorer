<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Flame Graph</title>
    <link rel="stylesheet" href="../styles.css">
</head>
<body><br>
<details class="accordion" open>
  <summary class="header">Flame graphs
    </summary>
    <div class="body">
        <p>A flame graph is an alternative, more compact way of viewing a call tree, where function instances are nodes with a size proportional to the time spent relative to the parent (caller) function. This makes it easier to identify the portions of the app where most time is spent.</p>
        <p>Nodes are sorted on the horizontal direction based on decreasing time relative to parent node, while the stacking on the vertical direction forms a back trace.</p>
        <p>The diagram below shows the corresponding flame graph for an example call tree:</p>
        <img src="callTree.png"  alt=""/>
        <p>Flame graph</p>
        <img src="diagram.png"  alt=""/>

<p> The following links provide an introduction to the concept of the
            flame graph visualization, its history and how it's being used across
            the industry for performance investigations. </p>
        <ul class="unorderd-list">
            <li><a href="https://www.brendangregg.com/FlameGraphs/cpuflamegraphs.html" target="_blank">CPU
                Flame Graphs (brendangregg.com)</a></li>
            <li><a href="https://www.youtube.com/watch?v=VMpTU15rIZY" target="_blank">Visualizing
                Performance - The Developersâ€™ Guide to Flame Graphs (youtube.com)</a></li>
        </ul>
  </div>
</details>
<details class="accordion" open>
  <summary class="header"> Toolbar
        buttons
    </summary>
    <div class="body">
    	<img src="toolbar.png" alt=""/>
        <ol class="unorderd-list">
            <li>Undo previous operation, such as enlarging a node or changing the root node</li>
            <li>Reset flame graph view to initial state, with all nodes fitting the view</li>
            <li>Zoom out the flame graph view</li>
            <li>Zoom in the flame graph view</li>
            <li>If toggled, selecting a node will also select the function in the other profiling panels (Summary, Timeline, Caller/Callee, Call Tree)</li>
            <li>If toggled, selecting a node will load the source code of the function in the Source File panel</li>
            <li>If toggled, the node label includes the module name before the function like module.dll!foo</li>
            <li>If toggled, displays the Details panel with more information about the selected node</li>
            <li>Search the nodes by function name, case-insensitive. Press Esc to reset search.</li>
        </ol>
    </div>
</details>

<details class="accordion" open>
    <summary class="header"> Mouse navigation</summary>
    <div class="body">
<table class="shortcutTable">
        <tbody>
            <tr>
                <td bgcolor="#ECECEC"><strong>Click</strong></td>
                <td>Selects a node, updates the Details panel and selects the
                        function in the other profiling panels if Sync is enabled.<br>
Done on an empty area it deselects any selected nodes<br></td>
            </tr>
          <tr>
                <td bgcolor="#ECECEC">
                    <b>Double-Click</b>
                </td>
                <td> Enlarges a node to fill the entire width of the view.<br>
Done on an empty area it zooms in the flame graph</td>
          </tr>
          <tr>
                <td nowrap bgcolor="#ECECEC" ><strong>Alt + Double-Click</strong></td>
                <td>Promotes the selected node as the root node of the flame graph<br></td>
            </tr>
            <tr>
                <td bgcolor="#ECECEC"><strong>Right-Click</strong></td>
                <td>Shows the context menu with actions for the selected node</td>
            </tr>
            <tr>
                <td bgcolor="#ECECEC"><strong>Scroll</strong></td>
                <td>Moves the flame graph in the vertical direction</td>
            </tr>
            <tr>
                <td bgcolor="#ECECEC"><strong>Shift + Scroll</strong></td>
                <td>Moves the flame graph in the horizontal direction</td>
            </tr>
            <tr>
                <td bgcolor="#ECECEC"><strong>Ctrl + Scroll</strong></td>
                <td>Zooms in or out the flame graph</td>
            </tr>
            <tr>
                <td bgcolor="#ECECEC"><strong style="">Click + Drag</strong></td>
                <td>Done on an empty area of the panel moves the flame graph in the dragging direction<br></td>
            </tr>
            <tr>
                <td bgcolor="#ECECEC"><strong>Back</strong></td>
                <td>Undoes the previous operation. This maps to a dedicated back button found on some mice.<br></td>
            </tr>
      </tbody>
        </table>
</div>
</details>
<details class="accordion">
    <summary class="header"> Keyboard shortcuts</summary>
    <div class="body">
        TODO
    </div>
</details>
<details class="accordion">
    <summary class="header"> Details panel</summary>
  <div class="body">
      <p> The Details panel provides an in-depth overview of the selected function in the flame graph, with info about both the selected instance and statistics for all instances.<br>
     
      <ul class="unorderd-list">
          <li>
          	Info tab:
            <ul>
            	<li>Instances: number of unique call tree paths including this function</li>
                <li>Total time: sum of inclusive time of all instances</li>
                <li>Median time: median of inclusive of all instances</li>
                <li>Histogram: displays a graph with the time distribution across instances, either inclusive or exclusive time</li>
                <li>Module: name of binary (image) the function belongs to</li>
                <li>Function name: complete, non-truncated functon name</li>
            </ul>
            <li>Backtrace tab: list of the functions on the path from root to selected node</li>
            <li>Functions tab: list of functions executing under the selected node, sorted by inclusive time</li>
            <li>Modules tab: list of modules whose functions execute under the selected node, sorted by time spent per module</li>
            <li>Instances tab: list of all instances of the selected function, sorted by inclusive time. The left/right arrow buttons navigate between the instances, selecting the node in the flame graph</li>
            </li>
    </ul>
    </p>
    </div>
</details>
<details class="accordion" open>
    <summary class="header"> Tips</summary>
    <div class="body">
     <ul class="unorderd-list">
       <li>Hovering over a node shows a popup with more details. This popup can be expanded to the equivalent of the Details panel by clicking the arrow button in the upper-right part.</li>
       <li>Once expanded, a popup remains open, can be moved and resized. More popups can be opened the same way an remain active at the same time. This also applies to the other popus in the application.</li>
       <li>Right-click on entries in the Details panel function lists shows a context menu</li>
     </ul>
    </div>
</details>
</body>
</html>


