<local:OptionsPanelBase
    x:Class="IRExplorerUI.OptionsPanels.SectionOptionsPanel"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:IRExplorerUI.OptionsPanels"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:xctk="http://schemas.xceed.com/wpf/xaml/toolkit"
    d:DesignHeight="450"
    d:DesignWidth="350"
    mc:Ignorable="d">
    <Grid Background="{DynamicResource {x:Static SystemColors.ControlLightBrushKey}}">
        <StackPanel Margin="4,4,4,4">
            <TextBlock FontWeight="DemiBold" Text="Section List" />
            <StackPanel Orientation="Horizontal">
                <CheckBox
                    Margin="0,4,20,2"
                    Content="Use semantic colorization of section names"
                    IsChecked="{Binding ColorizeSectionNames, Mode=TwoWay}" />
                <Button
                    Name="EditButton"
                    Width="20"
                    Height="20"
                    VerticalAlignment="Top"
                    Background="{DynamicResource {x:Static SystemColors.ControlLightBrushKey}}"
                    BorderBrush="{x:Null}"
                    Click="EditButton_Click"
                    ToolTip="Edit section style definition file (JSON format)">
                    <Image Source="{StaticResource EditIcon}" />
                </Button>

                <Button
                    Name="ReloadButton"
                    Width="20"
                    Height="20"
                    VerticalAlignment="Top"
                    Background="{DynamicResource {x:Static SystemColors.ControlLightBrushKey}}"
                    BorderBrush="{x:Null}"
                    Click="ReloadButton_Click"
                    ToolTip="Reload the session style definitions">
                    <Image Source="{StaticResource ReloadIcon}" />
                </Button>
            </StackPanel>

            <CheckBox
                Name="IndentationCheckbox"
                Margin="0,2,0,2"
                Content="Use indentation for nested section names"
                IsChecked="{Binding UseNameIndentation, Mode=TwoWay}"
                ToolTip="Show section names indentend based on the parent/child relationship" />
            <StackPanel Margin="20,2,0,2" Orientation="Horizontal">
                <TextBlock VerticalAlignment="Center" Text="Indentation amount" />
                <xctk:IntegerUpDown
                    Margin="4,0,0,0"
                    IsEnabled="{Binding ElementName=IndentationCheckbox, Path=IsChecked}"
                    Maximum="16"
                    Minimum="1"
                    ParsingNumberStyle="Number"
                    ShowButtonSpinner="True"
                    ToolTip="Number of whitespace letters to use for each level of indentation"
                    Value="{Binding Path=IndentationAmount, Mode=TwoWay}" />
            </StackPanel>
            <CheckBox
                Margin="0,2,0,2"
                Content="Show section group separators"
                IsChecked="{Binding ShowSectionSeparators, Mode=TwoWay}"
                ToolTip="Show before/after section separator lines for groups of sections" />


            <CheckBox
                x:Name="IdenticalToPreviousCheckbox"
                Margin="0,2,0,2"
                Content="Mark sections identical to previous"
                IsChecked="{Binding MarkSectionsIdenticalToPrevious, Mode=TwoWay}"
                ToolTip="Identify sequences of sections with no changes in the IR compared to previous one" />
            <CheckBox
                Margin="20,2,0,2"
                Content="Lower text opacity for identical sections"
                IsChecked="{Binding LowerIdenticalToPreviousOpacity, Mode=TwoWay}"
                IsEnabled="{Binding ElementName=IdenticalToPreviousCheckbox, Path=IsChecked}"
                ToolTip="Make the section name semi-transparent if it's identical to the previous one" />
            <CheckBox
                Margin="0,2,0,2"
                Content="Mark sections with annotations"
                IsChecked="{Binding MarkAnnotatedSections, Mode=TwoWay}"
                ToolTip="Tag sections that have highlighted IR, bookmarks and other annotations" />
            <Separator Margin="0,4,0,4" />

            <TextBlock FontWeight="DemiBold" Text="Function List" />
            <CheckBox
                x:Name="StatisticsCheckbox"
                Margin="0,4,0,2"
                Content="Compute instruction statistics"
                IsChecked="{Binding ComputeStatistics, Mode=TwoWay}"
                ToolTip="Compute function IR statistics on document load and show extra columns" />
            <CheckBox
                x:Name="CallGraphStatisticsCheckbox"
                Margin="20,2,0,2"
                Content="Include call statistics"
                IsChecked="{Binding IncludeCallGraphStatistics, Mode=TwoWay}"
                IsEnabled="{Binding ElementName=StatisticsCheckbox, Path=IsChecked}"
                ToolTip="Include caller/callee count function statistics" />
            <CheckBox
                x:Name="DemanglingCheckbox"
                Margin="0,2,0,2"
                Content="Show demangled function names"
                IsChecked="{Binding ShowDemangledNames, Mode=TwoWay}"
                ToolTip="Show an extra column with the C/C++ demangled (undecorated) function names" />
            <CheckBox
                Margin="20,2,0,2"
                Content="Exclude return types"
                IsChecked="{Binding DemangleNoReturnType, Mode=TwoWay}"
                IsEnabled="{Binding ElementName=DemanglingCheckbox, Path=IsChecked}"
                ToolTip="Exclude the function return type from the demangled name" />
            <CheckBox
                Margin="20,2,0,2"
                Content="Exclude special keywords"
                IsChecked="{Binding DemangleNoSpecialKeywords, Mode=TwoWay}"
                IsEnabled="{Binding ElementName=DemanglingCheckbox, Path=IsChecked}"
                ToolTip="Exclude any vendor-specific keywords from the demangled name" />
            <CheckBox
                Margin="20,2,0,2"
                Content="Use simplified demangled form"
                IsChecked="{Binding DemangleOnlyNames, Mode=TwoWay}"
                IsEnabled="{Binding ElementName=DemanglingCheckbox, Path=IsChecked}"
                ToolTip="Demangle only the scope and function name, without parameters" />
            <Separator Margin="0,4,0,4" />

            <TextBlock FontWeight="DemiBold" Text="List Filtering" />
            <CheckBox
                Margin="0,4,0,2"
                Content="Use case-sensitive function name search"
                IsChecked="{Binding FunctionSearchCaseSensitive, Mode=TwoWay}" />
            <CheckBox
                Margin="0,2,0,2"
                Content="Use case-sensitive section name search"
                IsChecked="{Binding SectionSearchCaseSensitive, Mode=TwoWay}" />

            <Separator Margin="0,4,0,4" />
            <TextBlock FontWeight="DemiBold" Text="Document Diffs" />

            <Grid Margin="0,4,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="70" />
                    <ColumnDefinition />
                </Grid.ColumnDefinitions>
                <xctk:ColorPicker
                    Grid.Column="0"
                    Width="64"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Center"
                    AvailableColorsSortingMode="HueSaturationBrightness"
                    BorderBrush="Gray"
                    SelectedColor="{Binding NewSectionColor, Mode=TwoWay}"
                    ShowDropDownButton="True"
                    UsingAlphaChannel="False" />
                <TextBlock
                    Grid.Column="1"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Center"
                    Text="New section border color" />
            </Grid>
            <Grid Margin="0,2,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="70" />
                    <ColumnDefinition />
                </Grid.ColumnDefinitions>
                <xctk:ColorPicker
                    Grid.Column="0"
                    Width="64"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Center"
                    AvailableColorsSortingMode="HueSaturationBrightness"
                    BorderBrush="Gray"
                    SelectedColor="{Binding MissingSectionColor, Mode=TwoWay}"
                    ShowDropDownButton="True"
                    UsingAlphaChannel="False" />
                <TextBlock
                    Grid.Column="1"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Center"
                    Text="Missing section border color" />
            </Grid>
            <Grid Margin="0,2,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="70" />
                    <ColumnDefinition />
                </Grid.ColumnDefinitions>
                <xctk:ColorPicker
                    Grid.Column="0"
                    Width="64"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Center"
                    AvailableColorsSortingMode="HueSaturationBrightness"
                    BorderBrush="Gray"
                    SelectedColor="{Binding ChangedSectionColor, Mode=TwoWay}"
                    ShowDropDownButton="True"
                    UsingAlphaChannel="False" />
                <TextBlock
                    Grid.Column="1"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Center"
                    Text="Changed section border color" />
            </Grid>
        </StackPanel>
    </Grid>
</local:OptionsPanelBase>
