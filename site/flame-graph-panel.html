
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="summary-panel.html">
      
      
        <link rel="next" href="timeline-panel.html">
      
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.35">
    
    
      
        <title>Flame Graph view - Profile Explorer</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.35f28582.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="style.css">
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="white">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#overview" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="." title="Profile Explorer" class="md-header__button md-logo" aria-label="Profile Explorer" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Profile Explorer
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Flame Graph view
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="Profile Explorer" class="md-nav__button md-logo" aria-label="Profile Explorer" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Profile Explorer
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="intro.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Getting started
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="profiling-ui.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Profiling UI overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="demos.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Video Demos
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="about.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Trace loading and recording
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Trace loading and recording
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="trace-loading.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Loading a trace
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="trace-recording.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Recording a trace
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="trace-overview.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Trace overview report
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Trace profile views
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Trace profile views
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="summary-panel.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Summary view
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Flame Graph view
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="flame-graph-panel.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Flame Graph view
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flame-graph-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      Flame graph nodes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#navigating-the-flame-graph" class="md-nav__link">
    <span class="md-ellipsis">
      Navigating the Flame graph
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changing-the-root-node" class="md-nav__link">
    <span class="md-ellipsis">
      Changing the root node
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#searching-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Searching functions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#view-interaction" class="md-nav__link">
    <span class="md-ellipsis">
      View interaction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#details-panel" class="md-nav__link">
    <span class="md-ellipsis">
      Details panel
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#view-options" class="md-nav__link">
    <span class="md-ellipsis">
      View options
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#documentation-in-progress" class="md-nav__link">
    <span class="md-ellipsis">
      Documentation in progress
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="timeline-panel.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Timeline view
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="call-tree-panel.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Call Tree view
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="caller-panel.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Caller/Callee view
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Function profile views
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Function profile views
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="assembly-view.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Assembly view
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="source-panel.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Source File view
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="flow-graph-panel.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Flow Graph view
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Additional functionality
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Additional functionality
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="marking.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Function/module marking
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="workspaces.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Preview popups
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="workspaces.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Working with multiple functions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="function-instances.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Viewing function instances
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="workspaces.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Workspaces
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="options.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Application options
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="options.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rust support
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flame-graph-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      Flame graph nodes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#navigating-the-flame-graph" class="md-nav__link">
    <span class="md-ellipsis">
      Navigating the Flame graph
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changing-the-root-node" class="md-nav__link">
    <span class="md-ellipsis">
      Changing the root node
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#searching-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Searching functions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#view-interaction" class="md-nav__link">
    <span class="md-ellipsis">
      View interaction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#details-panel" class="md-nav__link">
    <span class="md-ellipsis">
      Details panel
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#view-options" class="md-nav__link">
    <span class="md-ellipsis">
      View options
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#documentation-in-progress" class="md-nav__link">
    <span class="md-ellipsis">
      Documentation in progress
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>Flame Graph view</h1>

<details class="note" open="open">
<summary>Introduction to flame graphs</summary>
<p>A flame graph is an alternative, more compact way of viewing a call tree. In this view, function instances are nodes with a size proportional to the time spent relative to the caller (parent) function and makes it easier to identify the portions of the app that take most of the time.  </p>
<p>Nodes are sorted in the horizontal direction based on decreasing time relative to their parent node, while the ordering in the vertical direction forms a stack trace (a path in the call tree). The function taking the most time in the application is then found in the leftmost, bottom part of the Flame graph.</p>
<p><img alt="Flame graph diagram" src="img/flame-graph.png" style="width:320px" /><br />
In the example above, the <em>main</em> function is considered the process entry point, calling <em>foo</em> and <em>bar</em>, with <em>foo</em> taking 60% of the time and <em>bar</em> 40%. Function <em>foo</em> spends a part of its total (inclusive) time in the calls to <em>baz</em> and <em>etc1</em>, while the rest is self (exclusive) time, meaning instructions part of <em>foo</em> which are not calls to other functions.  </p>
<p>Note that there are two instances of the function <em>baz</em> with different execution time, each with a unique path to it in the call tree starting from <em>main</em> (all other functions have a single instance). You can see the time of each instance by <em>hovering</em> with the mouse over it or in the <em>Details panel</em> after it's selected.</p>
<p>The following links provide an introduction to the flame graph visualization concept, its history, and how it's being used across the industry for performance investigations.  </p>
<ul>
<li><a href="https://www.brendangregg.com/FlameGraphs/cpuflamegraphs.html">CPU Flame Graphs (brendangregg.com)</a></li>
<li><a href="https://www.youtube.com/watch?v=VMpTU15rIZY">Visualizing Performance - The Developers’ Guide to Flame Graphs (youtube.com)</a></li>
</ul>
</details>
<h4 id="overview">Overview</h4>
<p>The Flame graph view is the main means of identifying the parts of the application where most time is spent. </p>
<p><a href="img/flame-graph-panel.png" target="_blank"><img alt="Profiling UI screenshot" src="img/flame-graph-panel.png" /></a></p>
<p>The view has three parts:</p>
<ul>
<li>a toolbar at the top, with action buttons and the <em>Search</em> input box.</li>
<li>the interactive flame graph itself.</li>
<li>the Details panel on the right side. The panel displays detailed info about the selected node(s), and its visibility can be toggled using the <em>Details</em> button in the toolbar.</li>
</ul>
<h5 id="flame-graph-nodes">Flame graph nodes</h5>
<p>The flame graph displays nodes representing functions stacked top to bottom according to the call tree paths forming the stack traces. Each node is a unique instance of a function — a function having multiple instances means there are several paths in the call tree that call the function.  </p>
<p>Each node has the demangled (undecorated) function name, optionally prepended with the module name, followed by the execution time percentage relative to the entire trace and the execution time.  </p>
<p>By default, the nodes are color-coded based on the module names to which the functions belong. Nodes for functions executing in the kernel/managed context are marked with a different text and border color (blue by default). The displayed text fields and colors can be customized in the Flame graph options.  </p>
<details class="note" open="open">
<summary>Note</summary>
<p>When the called function nodes are too small to be visible in the view, they are collapsed under a placeholder node rendered with a hatch pattern. Placeholder nodes are expanded into individual nodes when zooming in the view.  </p>
</details>
<h5 id="navigating-the-flame-graph">Navigating the Flame graph</h5>
<p>A double-click on a node expands it to cover the entire view and may expand the collapsed nodes. For example, the called nodes become visible after double-clicking the node hovered in the screenshot above.<br />
<a href="img/flame-graph-expand_944x428.png" target="_blank"><img alt="Profiling UI screenshot" src="img/flame-graph-expand_944x428.png" /></a></p>
<p>Expanding a node can be repeated to go deeper down the call path. The <em>Back</em> button in the toolbar (or <em>Backspace</em> key/<em>Back</em> mouse button) undoes the operation and returns the view to its previous state.  </p>
<p><a href="img/flame-graph-expand2_947x456.png" target="_blank"><img alt="Profiling UI screenshot" src="img/flame-graph-expand2_947x456.png" /></a></p>
<details class="note" open="open">
<summary>Note</summary>
<p>In the screenshot above, the nodes starting with <em>ntoskrnl.exe!KiPageFault</em> use a different style to mark code executing in kernel mode. The user mode and kernel mode call stacks are automatically combined.</p>
</details>
<h5 id="changing-the-root-node">Changing the root node</h5>
<p>It can be useful to view only a subregion of the Flame graph. By changing the root node, only nodes for functions starting with the new root are displayed and execution time percentages are computed relative to the new root starting at 100%.</p>
<p>To change the root node, from the right-click context menu, select <em>Set Function as Root</em> (alternatively, use the <em>Alt+Double-click</em> shortcut). After the switch, the toolbar displays the name of the current root node. Setting a new root node can be repeated in the new view.</p>
<p>To remove the root node and view the entire Flame graph, click the <em>X</em> button next to its name in the toolbar. If multiple nested root nodes were set, removing the current node activates the previous one.</p>
<p><a href="img/flame-graph-root_946x435.png" target="_blank"><img alt="Profiling UI screenshot" src="img/flame-graph-root_946x435.png" /></a></p>
<h4 id="searching-functions">Searching functions</h4>
<p>Use the <em>search input box</em> in the toolbar to search for functions with a specific name using a case-insensitive substring search. Matching nodes and function names are marked and the <em>up/down</em> buttons showing on the right can be used to navigate between results. Press the Escape key to reset the search or the X button next to the input box.</p>
<p><a href="img/flame-graph-search_1078x286.png" target="_blank"><img alt="Profiling UI screenshot" src="img/flame-graph-search_1078x286.png" /></a></p>
<h4 id="view-interaction">View interaction</h4>
<details class="abstract" open="open">
<summary>Toolbar</summary>
<table>
<thead>
<tr>
<th>Button</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><img alt="" src="img/flame-graph-toolbar-back.png" /></td>
<td>Undoes the previous action, such as expanding a node or changing the root node.</td>
</tr>
<tr>
<td><img alt="" src="img/flame-graph-toolbar-reset.png" /></td>
<td>Resets the view to it's original state, displaying the entire Flame graph.</td>
</tr>
<tr>
<td><img alt="" src="img/flame-graph-toolbar-minus.png" /></td>
<td>Zooms out the view around the center point.</td>
</tr>
<tr>
<td><img alt="" src="img/flame-graph-toolbar-plus.png" /></td>
<td>Zooms in the view around the center point.</td>
</tr>
<tr>
<td><img alt="" src="img/flame-graph-toolbar-sync.png" /></td>
<td>If enabled, selecting a node also selects the associated function in the other profiling views.</td>
</tr>
<tr>
<td><img alt="" src="img/flame-graph-toolbar-source.png" /></td>
<td>If enabled, selecting a node also displays the associated function in the Source file view, with the source lines annotated with profiling data.</td>
</tr>
<tr>
<td><img alt="" src="img/flame-graph-toolbar-module.png" /></td>
<td>If enabled, display the module name before the function name in the nodes as module!function.</td>
</tr>
<tr>
<td><img alt="" src="img/flame-graph-toolbar-details.png" /></td>
<td>If enabled, display the Details panel on the right side of the Flame graph view.</td>
</tr>
<tr>
<td>Search box</td>
<td>Search for nodes with a specific function name using a case-insensitive substring search. Press the <em>Escape</em> key to reset the search or the <em>X</em> button next to the input box.</td>
</tr>
</tbody>
</table>
</details>
<details class="abstract" open="open">
<summary>Mouse shortcuts</summary>
<table>
<thead>
<tr>
<th>Action</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Hover</td>
<td>Hovering over a node briefly displays a preview popup with the complete function name and total/self execution times. Clicking the <em>Pin button</em> or dragging the popup expands it into a panel equivalent to the <em>Details panel</em>. Multiple such panels can be kept open at the same time.</td>
</tr>
<tr>
<td>Click</td>
<td>Selects a node and deselects any previously selected nodes. The <em>Details panel</em> is updated and, if <em>Sync</em> is enabled in the toolbar, the function is selected in the other panels. Displays the associated function in the Source file view if <em>Source</em> is enabled in the toolbar. <br><br>Clicking an empty part of the view deselects all nodes.</td>
</tr>
<tr>
<td>Ctrl+Click</td>
<td>Selects the pointed node and keeps the previously selected nodes (append). The <em>Details panel</em> is updated to display a combined view of all selected nodes.</td>
</tr>
<tr>
<td>Shift+Click</td>
<td>When a node is selected, it expands the selection to include all nodes in the call stack between the pointed node and the selected one. The <em>Details panel</em> is updated to display a combined view of all selected nodes.</td>
</tr>
<tr>
<td>Double-click</td>
<td>Expands (zooms-in) the pointed node to cover the view's width, adjusting child node widths accordingly.</td>
</tr>
<tr>
<td>Ctrl+Double-click</td>
<td>Opens the Assembly view of the selected function in the active tab.</td>
</tr>
<tr>
<td>Ctrl+Shift+Double-click</td>
<td>Opens the Assembly view of the selected function in a new tab.</td>
</tr>
<tr>
<td>Alt+Double-click</td>
<td>Sets the selected node as the root node of the Flame graph.</td>
</tr>
<tr>
<td>Back</td>
<td>If the mouse has an optional <em>Back</em> button, this undoes the previous action, such as expanding a node (double-click) or changing the root node. An alternative is pressing the <em>Backspace</em> key or the <em>Back</em> button in the toolbar.</td>
</tr>
<tr>
<td>Right-click</td>
<td>Shows the context menu for the selected nodes.</td>
</tr>
<tr>
<td>Click+Drag</td>
<td>If the flame graph is larger than the view, clicking on and dragging an empty part of the view moves the view in the direction of the mouse.</td>
</tr>
<tr>
<td>Scroll wheel</td>
<td>Scrolls the view vertically if the flame graph is larger than the view</td>
</tr>
<tr>
<td>Shift+Scroll wheel</td>
<td>Scrolls the view horizontally if the flame graph is larger than the view</td>
</tr>
<tr>
<td>Ctrl+Scroll wheel</td>
<td>Zooms in or out the view around the mouse pointer position.</td>
</tr>
<tr>
<td>Click+Scroll wheel</td>
<td>Zooms in or out the view around the mouse pointer position.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When multiple nodes are selected, the application status bar displays the sum of their execution time as a percentage and value.<br />
<a href="img/flame-graph-selection_619x155.png" target="_blank"><img alt="Profiling UI screenshot" src="img/flame-graph-selection_619x155.png" style="width:450px" /></a></p>
</div>
</details>
<details class="abstract" open="open">
<summary>Keyboard shortcuts</summary>
<table>
<thead>
<tr>
<th>Keys</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Return</td>
<td>Expands (zooms-in) the pointed node to cover the view's width, adjusting child node widths accordingly.</td>
</tr>
<tr>
<td>Ctrl+Return</td>
<td>Opens the Assembly view of the selected function in the active tab.</td>
</tr>
<tr>
<td>Ctrl+Shift+Return</td>
<td>Opens the Assembly view of the selected function in a new tab.</td>
</tr>
<tr>
<td>Alt+Return</td>
<td>Opens a preview popup with the assembly of the selected function. Press the <em>Escape</em> key to close the popup.<br><br>Multiple preview popups can be can be kept open at the same time.</td>
</tr>
<tr>
<td>Alt+Shift+Return</td>
<td>Opens a preview popup with the assembly of the selected function, with profile data filtered to include only the selected instance.</td>
</tr>
<tr>
<td>Ctrl+C</td>
<td>Copies to clipboard a HTML and Markdown table with a summary of the selected nodes.</td>
</tr>
<tr>
<td>Ctrl+Shift+C</td>
<td>Copies to clipboard the function names of the selected nodes.</td>
</tr>
<tr>
<td>Ctrl+Alt+C</td>
<td>Copies to clipboard the mangled/decorated function names of the selected nodes.</td>
</tr>
<tr>
<td>Backspace</td>
<td>Undoes the previous action, such as expanding a node (double-click) or changing the root node.</td>
</tr>
<tr>
<td>Ctrl+=</td>
<td>Zooms in the view around the center point.</td>
</tr>
<tr>
<td>Ctrl+-</td>
<td>Zooms out the view around the center point.</td>
</tr>
<tr>
<td>Ctrl+0<br>Ctrl+R</td>
<td>Resets the view to the initial state.</td>
</tr>
<tr>
<td>Arrow keys</td>
<td>Scrolls the view in the horizontal and vertical directions if the flame graph is larger than the view.</td>
</tr>
</tbody>
</table>
</details>
<details class="abstract" open="open">
<summary>Right-click context menu</summary>
<p><a href="img/flame-graph-context-menu_539x651.png" target="_blank"><img alt="Profiling UI screenshot" src="img/flame-graph-context-menu_539x651.png" style="width:380px" /></a>  </p>
</details>
<h4 id="details-panel">Details panel</h4>
<p>The Details panel shows extended information about the selected node(s) in the Flame graph. It provides a quick overview of the slowest functions and modules being called directly or through other functions starting with the selection.  </p>
<p>The top shows the <em>Total</em> (inclusive) execution time and <em>Self</em> (exclusive) execution time values for the selected node (function instance). The right side shows the index of the chosen instance, among all instances, with the slowest instance having the lowest index. Use the left/right arrow buttons to switch to the previous/next function instance.  </p>
<details class="note" open="open">
<summary>Note</summary>
<p>Functions in the lists have a right-click context menu with options to open the Assembly view, preview popup, and select the function in the other views.  </p>
<p><em>Double-click/Ctrl+Return</em> opens the Assembly view for the selected function. Combine these shortcuts with the <em>Shift</em> key to open the Assembly view in a new tab instead.<br />
<em>Hovering</em> with the mouse over a function opens a preview popup with the function's assembly.    </p>
<p>When multiple functions are selected, the application status bar displays the sum of their execution time as a percentage and value.</p>
</details>
<p>The information displayed in the tabs below is for the selected function instance only, except the <em>Info</em> tab which displays statistics for all instances instead.  </p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:6"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><input id="__tabbed_1_3" name="__tabbed_1" type="radio" /><input id="__tabbed_1_4" name="__tabbed_1" type="radio" /><input id="__tabbed_1_5" name="__tabbed_1" type="radio" /><input id="__tabbed_1_6" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">Info</label><label for="__tabbed_1_2">Stack</label><label for="__tabbed_1_3">Functions</label><label for="__tabbed_1_4">Modules</label><label for="__tabbed_1_5">Categories</label><label for="__tabbed_1_6">Instances</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p><a href="img/details-panel-info_565x786.png" target="_blank"><img alt="Profiling UI screenshot" src="img/details-panel-info_565x786.png" style="width:380px" /></a>  </p>
<p>The Info tab displays details and statistics about all instances of the selected funcion node.  </p>
<table>
<thead>
<tr>
<th>Section</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Instances</td>
<td>Displays total execution time (sum), average, and median across all function instances, as a total/self execution time percentage relative to the entire trace and execution time value.</td>
</tr>
<tr>
<td>Histogram</td>
<td>The histogram displays the time distribution across all function instances. Instances with similar times are grouped, and the number of instances in each group is shown above, with more details when <em>hovering</em> over a group with the mouse.<br><br><em>Clicking</em> on a group selects the first node from the group in the Flame graph view. The <em>Total/Self</em> radio buttons switch between using the total time or self time for the histogram.<br><br>In the above example, there are 3 instances of function <em>genString</em>, one with an execution time of ~1.5ms and two, binned together, with ~1sec each. The time of the selected instance is marked with a green arrow, and the average/median times are indicated by red/blue dotted lines.</td>
</tr>
<tr>
<td>Threads</td>
<td>Displays the list of threads on which all function instances execute, with each thread's total/self execution time percentage and execution time value.<br><br><em>Right-clicking</em> a thread shows a context menu with options to open the Assembly view with profile data filtered to include only the selected thread and multiple options for changing the thread filtering for the entire trace.<br><br><em>Double-clicking</em> a thread filters the entire trace to show only code executing on that thread.</td>
</tr>
<tr>
<td>Module</td>
<td>Displays the name of the module to which the function belongs. Shortcut buttons on the right side:<br> <table>  <tbody>  <tr>  <td><img alt="" src="img/details-panel-mark-module.png" style="width:24px" /></td>  <td>Marks all function nodes belonging to the module with a color.</td>  </tr> <tr>  <td><img alt="" src="img/details-panel-copy.png" style="width:24px" /></td>  <td>Copies to clipboard the module name.</td>  </tr>   </tbody>  </table></td>
</tr>
<tr>
<td>Function</td>
<td>Displays the complete function name, followed by the execution context as U/K/M standing for User/Kernel/Managed mode. Shortcut buttons on the right side:<br> <table>  <tbody>  <tr>  <tr>  <td><img alt="" src="img/details-panel-preview.png" style="width:24px" /></td>  <td>Opens a preview popup with the function's assembly.</td>  </tr>  <tr>  <td><img alt="" src="img/details-panel-tab.png" style="width:24px" /></td>  <td>Opens the function's Assembly view in a new tab.</td>  </tr>  <td><img alt="" src="img/details-panel-mark-module.png" style="width:24px" /></td>  <td>Marks all function nodes with a color.</td>  </tr> <tr>  <td><img alt="" src="img/details-panel-copy.png" style="width:24px" /></td>  <td>Copies to clipboard the function name.</td>  </tr>   </tbody>  </table></td>
</tr>
</tbody>
</table>
</div>
<div class="tabbed-block">
<p><a href="img/details-panel-stack_565x706.png" target="_blank"><img alt="Profiling UI screenshot" src="img/details-panel-stack_565x706.png" style="width:380px" /></a>  </p>
<p>The Stack tab displays the call stack (stack trace) leading to the selected function instance node.</p>
</div>
<div class="tabbed-block">
<p><a href="img/details-panel-functions_565x706.png" target="_blank"><img alt="Profiling UI screenshot" src="img/details-panel-functions_565x706.png" style="width:380px" /></a>  </p>
<p>The Functions tab lists the slowest functions being called directly or through other functions, starting with the selected function instance node. By default, the list is sorted by self (exclusive) time in descending order. The Flame graph options can change the sorting to consider total (inclusive) time instead.</p>
</div>
<div class="tabbed-block">
<p><a href="img/details-panel-modules_565x706.png" target="_blank"><img alt="Profiling UI screenshot" src="img/details-panel-modules_565x706.png" style="width:380px" /></a>  </p>
<p>The Modules tab is similar to the Functions tab, with the difference that functions are first grouped by the module they belong to, and the execution time per module is also displayed. Selecting a module shows the list of the slowest functions.</p>
</div>
<div class="tabbed-block">
<p><a href="img/details-panel-categories_565x706.png" target="_blank"><img alt="Profiling UI screenshot" src="img/details-panel-categories_565x706.png" style="width:380px" /></a>  </p>
<p>The Categories tab is similar to the Functions tab, with the difference that functions are first grouped by the category they belong to, and the execution time per category is also displayed. Selecting a category shows the list of the slowest functions.<br><br><em>Right-click</em> on a category shows options to export a report as a HTML/Markdown file and copy the report to clipboard.</p>
</div>
<div class="tabbed-block">
<p><a href="img/details-panel-instances_565x706.png" target="_blank"><img alt="Profiling UI screenshot" src="img/details-panel-instances_565x706.png" style="width:380px" /></a>  </p>
<p>The Instances tab lists all instances of the function, sorted by total (inclusive) execution time.</p>
</div>
</div>
</div>
<h4 id="view-options">View options</h4>
<p><em>Click</em> on the <em>Gears</em> icon in the top-right part of the view displays the options panel (alternatively, use the <em>Flame Graph</em> tab in the application <em>Settings</em> window.).  </p>
<p>The tabs below describe each page of the options panel:  </p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:3"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><input id="__tabbed_2_3" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">General</label><label for="__tabbed_2_2">Appearance</label><label for="__tabbed_2_3">Details Panel</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p><a href="img/flame-graph-options-general_586x337.png" target="_blank"><img alt="Profiling UI screenshot" src="img/flame-graph-options-general_586x337.png" style="width:400px" /></a>  </p>
</div>
<div class="tabbed-block">
<p><a href="img/flame-graph-options-appearance_592x809.png" target="_blank"><img alt="Profiling UI screenshot" src="img/flame-graph-options-appearance_592x809.png" style="width:400px" /></a>  </p>
</div>
<div class="tabbed-block">
<p><a href="img/flame-graph-options-details_590x690.png" target="_blank"><img alt="Profiling UI screenshot" src="img/flame-graph-options-details_590x690.png" style="width:400px" /></a>  </p>
</div>
</div>
</div>
<h4 id="documentation-in-progress">Documentation in progress</h4>
<ul>
<li>Marking nodes</li>
<li>View options</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="summary-panel.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: Summary view">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Summary view
              </div>
            </div>
          </a>
        
        
          
          <a href="timeline-panel.html" class="md-footer__link md-footer__link--next" aria-label="Next: Timeline view">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Timeline view
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": ".", "features": ["navigation.expand", "navigation.instant", "navigation.top", "header.autohide", "navigation.footer"], "search": "assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="assets/javascripts/bundle.56dfad97.min.js"></script>
      
    
  </body>
</html>